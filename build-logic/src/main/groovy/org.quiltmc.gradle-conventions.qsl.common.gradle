import qsl.internal.Versions;

plugins {
	id("maven-publish")
	id("org.quiltmc.loom")
}

def ENV = System.getenv()

publishing {
	repositories {
		if (ENV.MAVEN_URL) {
			maven {
				credentials ENV.MAVEN_USERNAME
				credentials ENV.MAVEN_PASSWORD
			}
		} else {
			mavenLocal()
		}
	}
}

dependencies {
	minecraft "com.mojang:minecraft:${Versions.MINECRAFT_VERSION}"
	mappings "org.quiltmc:yarn:${Versions.MINECRAFT_VERSION}+build.${Versions.YARN_BUILD}:v2"

	modImplementation "org.quiltmc:quilt-loader:${Versions.LOADER_VERSION}"
}

loom {
	// Upstream Loom breaks this so we can't have nice things until the quilt-gradle replacement
	//shareCaches = true
}
